doctype html
html(lang='en')
  head
    meta(http-equiv='Content-Type', content='text/html; charset=UTF-8')
    // Meta, title, CSS, favicons, etc.
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    title SIGNEQ
    // Bootstrap
    link(href='/bootstrap/dist/css/bootstrap.min.css', rel='stylesheet')
    // Font Awesome
    link(href='/font-awesome/css/font-awesome.min.css', rel='stylesheet')
    // iCheck
    link(href='../iCheck/skins/flat/green.css', rel='stylesheet')
    // NProgress
    link(href='/nprogress/nprogress.css', rel='stylesheet')
    //Datatables    
    link(href='../datatables.net-buttons-bs/css/buttons.bootstrap.min.css', rel='stylesheet')
    link(href='../datatables.net-bs/css/dataTables.bootstrap.min.css', rel='stylesheet')
    link(href='../datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css', rel='stylesheet')
    link(href='../datatables.net-responsive-bs/css/responsive.bootstrap.min.css', rel='stylesheet')
    link(href='../datatables.net-scroller-bs/css/scroller.bootstrap.min.css', rel='stylesheet')

    // Custom Theme Style
    link(href='/build/css/custom.min.css', rel='stylesheet')
  body.nav-md
    .container.body
      .main_container
        .col-md-3.left_col
          .left_col.scroll-view
            .navbar.nav_title(style='border: 0;')
              a.site_title(href='/secure/listall')
                i.glyphicon.glyphicon-list-alt
                span  S I G N E Q
            .clearfix
            // menu profile quick info
            .profile.clearfix
              .profile_pic
                img.img-circle.profile_img(src='/images/img.jpg', alt='...')
              .profile_info
                span Bienvenido,
                h2 #{session.user.name}
              .clearfix
            // /menu profile quick info
            br
            // sidebar menu
            #sidebar-menu.main_menu_side.hidden-print.main_menu
              .menu_section
                h3 General
                ul.nav.side-menu
                  li
                    a
                      i.fa.fa-bar-chart
                      |  Dashboard 
                      span.fa.fa-chevron-down
                    ul.nav.child_menu
                      li
                        a(href='dashboard') Dashboard
                  li
                    a
                      i.fa.fa-edit
                      |  Compromisos 
                      span.fa.fa-chevron-down
                    ul.nav.child_menu
                      li
                        a(href='listall') Mis compromisos
                      li
                        a(href='massive') Carga masiva
                      li
                        a(href='register') Registrar compromiso
                      li
                        a(href='configattrcommit') Configuración de atributos
                  li
                    a
                      i.fa.fa-binoculars
                      |  Monitoreo 
                      span.fa.fa-chevron-down
                    ul.nav.child_menu
                      li
                        a(href='listallmonit') Monitoreo
                      li
                        a(href='massivemonit') Carga masiva
                      li
                        a(href='registermonit') Registrar monitoreo
                      li
                        a(href='configattrmonit') Configuración de atributos

                  if session.user.t_rol_rolid == 'ROL5'
                    li
                      a
                        i.fa.fa-lock
                        |  Administración 
                        span.fa.fa-chevron-down
                      ul.nav.child_menu
                        li
                          a(href='clients') Clientes
            // /sidebar menu
            // /menu footer buttons
            .sidebar-footer.hidden-small
              a(data-toggle='tooltip', data-placement='top', title='Inicio', href='/secure/home')
                span.glyphicon.glyphicon-home(aria-hidden='true')
              a(data-toggle='tooltip', data-placement='top', title='Compromisos', href='/secure/listall')
                span.glyphicon.glyphicon-list-alt(aria-hidden='true')
              a(data-toggle='tooltip', data-placement='top', title='Usuarios', href='/secure/admin/users')
                span.glyphicon.glyphicon-user(aria-hidden='true')
              a(data-toggle='tooltip', data-placement='top', title='Logout', href='javascript:logout()')
                span.glyphicon.glyphicon-off(aria-hidden='true')
            // /menu footer buttons
        // top navigation
        .top_nav
          .nav_menu
            nav
              .nav.toggle
                a#menu_toggle
                  i.fa.fa-bars
              ul.nav.navbar-nav.navbar-right
                li
                  a.user-profile.dropdown-toggle(href='javascript:;', data-toggle='dropdown', aria-expanded='false')
                    img(src='/images/img.jpg', alt='')
                    | #{session.user.name} 
                    span.fa.fa-angle-down
                  ul.dropdown-menu.dropdown-usermenu.pull-right
                    li
                      a(href='javascript:logout()')
                        i.fa.fa-sign-out.pull-right
                        |  Log Out
        // /top navigation
        // page content
        .right_col(role='main')
          block container
        // /page content
        // footer content
        footer
          .pull-right
            | Plataforma de Compromisos - Todos los derechos reservados
          .clearfix
        // /footer content
    #confirm_logout.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', data-keyboard='false')
      .modal-dialog.modal-sm(role='document')
        .modal-content
          .modal-header
            //button.close(type='button', data-dismiss='modal', aria-label='Close')
              span(aria-hidden='true') &times;
            h4.modal-title Cerrar Sesión
          .modal-body
            center
              p ¿Continuar con el cierre de sesión?
          .modal-footer
            button.btn.btn-default(type='button', data-dismiss='modal') Cancelar
            |  
            a.btn.btn-dark(href='/secure/logout') Continuar
    //Configuración inicial
    #config_init.modal.fade(tabindex='-1', role='dialog', data-backdrop='static', data-keyboard='false')
      .modal-dialog.modal-lg(role='document')
        .modal-content
          .modal-header
            center 
              h4.modal-title Configuración de compromisos y monitoreo
          .modal-body
            #wizard.form_wizard.wizard_horizontal
              ul.wizard_steps(style='padding: 0px')
                li(style='width:25%')
                  a(href='#step-1')
                    span.step_no 1
                    span.step_descr
                      | Paso 1
                      br
                      small Encabezados
                li(style='width:25%')
                  a(href='#step-2')
                    span.step_no 2
                    span.step_descr
                      | Paso 2
                      br
                      small Dashboard de inicio
                li(style='width:25%')
                  a(href='#step-3')
                    span.step_no 3
                    span.step_descr
                      | Paso 3
                      br
                      small Configuración de tabla de compromisos
                li(style='width:25%')
                  a(href='#step-4')
                    span.step_no 4
                    span.step_descr
                      | Paso 4
                      br
                      small Configuración de tabla de monitoreo
              form#frmWizard.form-horizontal.form-label-left(action='/secure/initConfig', method='post')
                #step-1(style='height:107px')
                  .form-group
                    label.control-label.col-md-3.col-sm-3.col-xs-12(for='first-name')
                      | Razón Social 
                    .col-md-6.col-sm-6.col-xs-12
                      input#first-name.form-control.col-md-7.col-xs-12(type='text', required='required')
                  .form-group
                    label.control-label.col-md-3.col-sm-3.col-xs-12(for='last-name')
                      | Unidad 
                    .col-md-6.col-sm-6.col-xs-12
                      input#last-name.form-control.col-md-7.col-xs-12(type='text', name='last-name', required='required')
                  .form-group
                    label.control-label.col-md-3.col-sm-3.col-xs-12(for='middle-name') Proyecto u Operación
                    .col-md-6.col-sm-6.col-xs-12
                      input#middle-name.form-control.col-md-7.col-xs-12(type='text', name='middle-name')
                #step-2
                  center
                    table#datatable-responsive.table.dt-responsive.nowrap(cellspacing='0', width='80%')
                      tr
                        td(width='40%')
                          label(for='total') Total Compromisos
                        td(width='10%')
                          input#total.flat(type='checkbox', value='total', name='dashboard')
                        td(width='40%') 
                          label(for='incumplidos') Compromisos incumplidos con un plan de acción
                        td(width='10%')
                          input#incumplidos.flat(type='checkbox', value='incumplidos', name='dashboard')
                      tr
                        td(width='40%')
                          label(for='accion') Compromisos que requieren acción
                        td(width='10%')
                          input#accion.flat(type='checkbox', value='accion', name='dashboard')
                        td(width='40%') 
                          label(for='sinaccion') Compromisos sin un plan de acción
                        td(width='10%')
                          input#sinaccion.flat(type='checkbox', value='sinaccion', name='dashboard')
                #step-3
                  center
                    table#datatable-responsive.table.dt-responsive.nowrap(cellspacing='0', width='80%')
                      tr
                        td(width='40%')
                          label(for='global') Código global
                        td(width='10%')
                          input#global.flat(type='checkbox', value='global', name='compromisos')
                        td(width='40%') 
                          label(for='asociado') Aspecto asociado
                        td(width='10%')
                          input#asociado.flat(type='checkbox', value='asociado', name='compromisos')
                      tr
                        td(width='40%')
                          label(for='unidad') Unidad
                        td(width='10%')
                          input#unidad.flat(type='checkbox', value='unidad', name='compromisos')
                        td(width='40%') 
                          label(for='instcomp') Instalación/componente
                        td(width='10%')
                          input#instcomp.flat(type='checkbox', value='instcomp', name='compromisos')
                    table#datatable.table.dt-responsive.nowrap(cellspacing='0', width='60%')
                      caption(width='60%' style='text-align:center;') Etapas
                      tr
                        td(width='10%')
                          label(for='contruccion') Contrucción
                        td(width='10%')
                          input#contruccion.flat(type='checkbox', value='contruccion', name='etapascompromiso')
                        td(width='10%') 
                          label(for='operacion') Operación
                        td(width='10%')
                          input#operacion.flat(type='checkbox', value='operacion', name='etapascompromiso')
                        td(width='10%') 
                          label(for='cierre') Cierre
                        td(width='10%')
                          input#cierre.flat(type='checkbox', value='cierre', name='etapascompromiso')
                        td(width='10%') 
                          label(for='postcierre') Post-cierre
                        td(width='10%')
                          input#postcierre.flat(type='checkbox', value='postcierre', name='etapascompromiso')
                #step-4 
                  center
                    table#datatable-responsive.table.dt-responsive.nowrap(cellspacing='0', width='80%')
                      tr
                        td(width='40%')
                          label(for='global') Código global
                        td(width='10%')
                          input#global.flat(type='checkbox', value='global', name='tablamonitoreo')
                        td(width='40%') 
                          label(for='temporalidad') Temporalidad
                        td(width='10%')
                          input#temporalidad.flat(type='checkbox', value='temporalidad', name='tablamonitoreo')
                      tr
                        td(width='40%')
                          label(for='unidad') Unidad
                        td(width='10%')
                          input#unidad.flat(type='checkbox', value='unidad', name='tablamonitoreo')
                        td(width='40%') 
                          label(for='frecmonitoreo') Frecuencia de monitoreo
                        td(width='10%')
                          input#frecmonitoreo.flat(type='checkbox', value='frecmonitoreo', name='tablamonitoreo')
                    table#datatable.table.dt-responsive.nowrap(cellspacing='0', width='60%')
                      caption(width='60%' style='text-align:center;') Etapas
                      tr
                        td(width='10%')
                          label(for='contruccion') Contrucción
                        td(width='10%')
                          input#contruccion.flat(type='checkbox', value='contruccion', name='etapasmonitoreo')
                        td(width='10%') 
                          label(for='operacion') Operación
                        td(width='10%')
                          input#operacion.flat(type='checkbox', value='operacion', name='etapasmonitoreo')
                        td(width='10%') 
                          label(for='cierre') Cierre
                        td(width='10%')
                          input#cierre.flat(type='checkbox', value='cierre', name='etapasmonitoreo')
                        td(width='10%') 
                          label(for='postcierre') Post-cierre
                        td(width='10%')
                          input#postcierre.flat(type='checkbox', value='postcierre', name='etapasmonitoreo')

            // End SmartWizard Content 
    // jQuery
    script(src='/jquery/dist/jquery.min.js')
    // Bootstrap
    script(src='/bootstrap/dist/js/bootstrap.min.js')
    // NProgress
    script(src='/nprogress/nprogress.js')
    script(src='../moment/min/moment.min.js')
    script(src='../bootstrap-progressbar/bootstrap-progressbar.min.js')
    // FastClick
    script(src='/fastclick/lib/fastclick.js')
    // jQuery Smart Wizard
    script(src='../jQuery-Smart-Wizard/js/jquery.smartWizard.js')    
    // Custom Theme Scripts
    script(src='/build/js/custom.min.js')
    script(src='../iCheck/icheck.min.js')
    script.
      $(document).ready(function(){
        var firsttime = '#{session.user.firsttime}';
        if (firsttime == 1) {
          $('#config_init').modal('show');
        }
      });
      var logout = function() {
        $('#confirm_logout').modal('show');
      }
      var finishWizard = function(){
        //$('#config_init').modal('hide');
        $('#frmWizard').submit();
      }

